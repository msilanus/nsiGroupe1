<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Dans un tableau</title>
    <style>
        table, td {
            border-collapse: collapse;
            border:  1px  solid grey;
            width: 50%;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
        }
    </style>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="data_annual.js"></script>
    <script>
        // ici mes fonctions
        function get_liste_data() {
            var line;
            var data = [];
            raw_data.forEach(function (item) {
                line = item.toString().split(',');
                data.push(line[2]);
                console.log(line[2]);
            });
            return data;
        }

        function get_liste_label() {
            var line;
            var data = [];
            raw_data.forEach(function (item) {
                line = item.toString().split(',')
                data.push(line[1]);
                console.log(line[1]);
            });
            return data;
        }

        function get_tableau_js(tableId, year, data) {
            var refTable = document.getElementById(tableId);
            for (var i = 0; i < year.length; i++) {
                var new_line = refTable.insertRow(i);

                var new_cell0 = new_line.insertCell(0);
                var new_content0 = document.createTextNode(year[i]);
                new_cell0.appendChild(new_content0);

                var new_cell1 = new_line.insertCell(1);
                var new_content1 = document.createTextNode(data[i]);
                new_cell1.appendChild(new_content1);

            }
        }

        // ici le code exécuté à l'ouvertur de la page
        $(function () {
            get_tableau_js("Table", get_liste_label(), get_liste_data());
        })
    </script>
</head>
<body>
<table id="Table">
    <tr>
        <td>Year</td>
        <td>Data</td>
    </tr>
</table>
</body>
</html>